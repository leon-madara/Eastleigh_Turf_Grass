{"version":3,"file":"index-51891abd.js","sources":["../../src/js/effects/homeSlider.js","../../src/pages/home/main.js"],"sourcesContent":["// Before/After slider (framework-free, JS only) - Enhanced with working core functionality\r\n// - JS writes --pos (0..100) on the .ba element\r\n// - CSS reads --pos + [data-orientation] to position clip and handle\r\nexport function initBeforeAfterSlider(figureSelector = \".ba\") {\r\n    const ba = document.querySelector(figureSelector);\r\n    if (!ba) return null;\r\n\r\n    const handle = ba.querySelector(\".ba-handle\");\r\n    const after = ba.querySelector(\".ba-after\");\r\n    const hero = ba.closest(\".hero\");\r\n    const heroContent = document.querySelector(\".hero-content\");\r\n    const range = ba.querySelector(\".ba-range\");\r\n\r\n    if (!handle || !after) return null;\r\n\r\n    const START_POS = 50; // snap target\r\n    const SNAP_MS = 300; // animation duration (ms)\r\n\r\n    let pos = 50; // 0..100\r\n    let dragging = false;\r\n    let animating = false;\r\n    let rafId = null;\r\n\r\n    function orientation() {\r\n        return window.innerWidth <= 768 ? \"vertical\" : \"horizontal\";\r\n    }\r\n\r\n    function setOrientation(o) {\r\n        ba.setAttribute(\"data-orientation\", o);\r\n    }\r\n\r\n    const clamp = v => Math.min(100, Math.max(0, v));\r\n\r\n    function setPos(p) {\r\n        p = clamp(p);\r\n        pos = p;\r\n\r\n        // Enhanced positioning with both CSS custom properties and direct styles\r\n        ba.style.setProperty(\"--pos\", `${p}%`);\r\n\r\n        // Direct handle positioning (from working code)\r\n        handle.style.left = p + '%';\r\n\r\n        // Direct clip-path setting (from working code)\r\n        after.style.clipPath = `inset(0 ${100 - p}% 0 0)`;\r\n\r\n        // Update range input if exists\r\n        if (range) range.value = String(p);\r\n\r\n        // Accessibility\r\n        handle.setAttribute(\"aria-valuenow\", String(Math.round(p)));\r\n    }\r\n\r\n    const toPct = e => {\r\n        const r = ba.getBoundingClientRect();\r\n        const clientX = e.clientX || (e.touches && e.touches[0] && e.touches[0].clientX) || 0;\r\n        const x = clientX - r.left;\r\n        return (x / r.width) * 100;\r\n    };\r\n\r\n    function animateTo(target = START_POS, duration = SNAP_MS) {\r\n        const from = parseFloat(handle.style.left) || START_POS;\r\n        if (Math.abs(target - from) < 0.001) return;\r\n\r\n        const t0 = performance.now();\r\n        if (rafId) cancelAnimationFrame(rafId);\r\n\r\n        const frame = t => {\r\n            if (dragging) return; // abort if user grabs again\r\n            const k = Math.min(1, (t - t0) / duration);\r\n            const eased = from + (target - from) * (1 - Math.pow(1 - k, 3)); // easeOutCubic\r\n            setPos(eased);\r\n            if (k < 1) rafId = requestAnimationFrame(frame);\r\n        };\r\n        rafId = requestAnimationFrame(frame);\r\n    }\r\n\r\n    // Init\r\n    setOrientation(orientation());\r\n    setPos(START_POS);\r\n    handle.tabIndex = 0;\r\n    handle.setAttribute(\"role\", \"slider\");\r\n    handle.setAttribute(\"aria-label\", \"Drag to compare\");\r\n    handle.setAttribute(\"aria-valuemin\", \"0\");\r\n    handle.setAttribute(\"aria-valuemax\", \"100\");\r\n\r\n    // Events\r\n    const onResize = () => {\r\n        const o = orientation();\r\n        if (ba.getAttribute(\"data-orientation\") !== o) {\r\n            setOrientation(o);\r\n            setPos(pos); // re-apply\r\n        }\r\n    };\r\n\r\n    const onPointerDown = (e) => {\r\n        if (animating) {\r\n            console.log('Slider: Animation in progress, ignoring pointer down');\r\n            return;\r\n        }\r\n        dragging = true;\r\n        if (handle.setPointerCapture) {\r\n            handle.setPointerCapture(e.pointerId);\r\n        }\r\n        handle.classList.add(\"is-active\");\r\n        handle.classList.add(\"dragging\");\r\n        if (rafId) cancelAnimationFrame(rafId);\r\n        if (heroContent) {\r\n            heroContent.style.opacity = \"0\";\r\n            heroContent.style.pointerEvents = \"none\";\r\n        }\r\n        setPos(toPct(e));\r\n        console.log('Slider: Pointer down, dragging started');\r\n    };\r\n\r\n    const onPointerMove = (e) => {\r\n        if (!dragging) return;\r\n        setPos(toPct(e));\r\n    };\r\n\r\n    const onPointerUp = (e) => {\r\n        if (!dragging) return;\r\n        dragging = false;\r\n        if (handle.releasePointerCapture) {\r\n            handle.releasePointerCapture(e.pointerId);\r\n        }\r\n        handle.classList.remove(\"is-active\");\r\n        handle.classList.remove(\"dragging\");\r\n\r\n        // Snap back to center and restore hero content\r\n        returnToCenter();\r\n        console.log('Slider: Pointer up, returning to center');\r\n    };\r\n\r\n    const onPointerEnter = () => handle.classList.add(\"is-hovered\");\r\n    const onPointerLeave = () => handle.classList.remove(\"is-hovered\");\r\n\r\n    const onKeyDown = (e) => {\r\n        if (animating) return;\r\n        let next = pos;\r\n        if ([\"ArrowLeft\", \"ArrowUp\"].includes(e.key)) next = pos - 2;\r\n        else if ([\"ArrowRight\", \"ArrowDown\"].includes(e.key)) next = pos + 2;\r\n        else if (e.key === \"Home\") next = 0;\r\n        else if (e.key === \"End\") next = 100;\r\n        else return;\r\n        e.preventDefault();\r\n        setPos(next);\r\n    };\r\n\r\n    function returnToCenter() {\r\n        if (animating) return;\r\n        animating = true;\r\n        const start = pos;\r\n        const target = START_POS;\r\n        const t0 = performance.now();\r\n        const dur = 600;\r\n        const raf = (t) => {\r\n            const u = Math.min((t - t0) / dur, 1);\r\n            const ease = 1 - Math.pow(1 - u, 3);\r\n            setPos(start + (target - start) * ease);\r\n            if (u < 1) requestAnimationFrame(raf);\r\n            else {\r\n                animating = false;\r\n                if (heroContent) {\r\n                    heroContent.style.opacity = \"1\";\r\n                    heroContent.style.pointerEvents = \"auto\";\r\n                }\r\n                console.log('Slider: Animation complete, hero content restored');\r\n            }\r\n        };\r\n        requestAnimationFrame(raf);\r\n    }\r\n\r\n    // Event listeners\r\n    window.addEventListener(\"resize\", onResize, {\r\n        passive: true\r\n    });\r\n    handle.addEventListener(\"pointerdown\", onPointerDown);\r\n    window.addEventListener(\"pointermove\", onPointerMove);\r\n    window.addEventListener(\"pointerup\", onPointerUp);\r\n    handle.addEventListener(\"pointerenter\", onPointerEnter);\r\n    handle.addEventListener(\"pointerleave\", onPointerLeave);\r\n    handle.addEventListener(\"keydown\", onKeyDown);\r\n\r\n    // Public API (optional)\r\n    return {\r\n        reset: () => setPos(START_POS),\r\n        destroy: () => {\r\n            window.removeEventListener(\"resize\", onResize);\r\n            handle.removeEventListener(\"pointerdown\", onPointerDown);\r\n            window.removeEventListener(\"pointermove\", onPointerMove);\r\n            window.removeEventListener(\"pointerup\", onPointerUp);\r\n            handle.removeEventListener(\"pointerenter\", onPointerEnter);\r\n            handle.removeEventListener(\"pointerleave\", onPointerLeave);\r\n            handle.removeEventListener(\"keydown\", onKeyDown);\r\n            if (rafId) cancelAnimationFrame(rafId);\r\n        }\r\n    };\r\n}","// Home page entry (Vite)\r\nimport '@/css/base.css';\r\nimport '@/css/header.css';\r\nimport '@/css/hero.css';\r\nimport '@/css/home.css';\r\nimport '@/css/footer.css';\r\nimport '@/css/mobile-nav.css';\r\nimport '@/css/productShowcase.css';\r\nimport '@/css/testimonials.css';\r\nimport '@/css/toast.css';\r\n\r\n// Core functionality\r\nimport '@/js/components/header.js';\r\nimport '@/js/components/cart.js';\r\nimport '@/js/components/cartIconPopUp.js';\r\nimport '@/js/components/toast.js';\r\n\r\n// Modals\r\nimport '@/ui/BrokerLoginModal.js';\r\n\r\n// Services\r\nimport '@/services/toastService.js';\r\n\r\n// Effects and animations\r\nimport {\r\n    initBeforeAfterSlider\r\n} from '@/js/effects/homeSlider.js';\r\nimport '@/js/effects/floating-header.js';\r\nimport '@/js/effects/mobile-scroll-animations.js';\r\n\r\n// Initialize slider\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n    initBeforeAfterSlider(\".ba\");\r\n});"],"names":["initBeforeAfterSlider","figureSelector","ba","handle","after","heroContent","range","START_POS","pos","dragging","animating","orientation","setOrientation","o","clamp","v","setPos","p","toPct","r","onResize","onPointerDown","onPointerMove","onPointerUp","returnToCenter","onPointerEnter","onPointerLeave","onKeyDown","next","start","target","t0","dur","raf","t","u","ease"],"mappings":"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"}