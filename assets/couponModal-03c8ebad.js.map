{"version":3,"file":"couponModal-03c8ebad.js","sources":["../../src/ui/components/couponModal.js"],"sourcesContent":["// Coupon Modal Component\r\nexport const couponModal = {\r\n    modal: null,\r\n    isOpen: false,\r\n\r\n    init() {\r\n        console.log('Coupon modal initialized');\r\n    },\r\n\r\n    open() {\r\n        this.createModal();\r\n        this.showModal();\r\n    },\r\n\r\n    close() {\r\n        this.hideModal();\r\n    },\r\n\r\n    createModal() {\r\n        // Remove existing modal if any\r\n        const existingModal = document.getElementById('couponModal');\r\n        if (existingModal) {\r\n            existingModal.remove();\r\n        }\r\n\r\n        const modalHTML = `\r\n            <div id=\"couponModal\" class=\"modal-overlay\">\r\n                <div class=\"modal-content\">\r\n                    <div class=\"modal-header\">\r\n                        <h2>Enter Coupon Code</h2>\r\n                        <button class=\"modal-close\" id=\"closeCouponModal\" aria-label=\"Close modal\">\r\n                            <i class=\"fas fa-times\"></i>\r\n                        </button>\r\n                    </div>\r\n                    <div class=\"modal-body\">\r\n                        <form id=\"couponForm\">\r\n                            <div class=\"form-group\">\r\n                                <label for=\"couponCode\">Coupon Code</label>\r\n                                <input type=\"text\" id=\"couponCode\" placeholder=\"Enter your coupon code\" required>\r\n                            </div>\r\n                            <div class=\"coupon-info\" id=\"couponInfo\" style=\"display: none;\">\r\n                                <div class=\"info-row\">\r\n                                    <span>Discount:</span>\r\n                                    <span id=\"couponDiscount\">0%</span>\r\n                                </div>\r\n                                <div class=\"info-row\">\r\n                                    <span>Valid until:</span>\r\n                                    <span id=\"couponExpiry\">N/A</span>\r\n                                </div>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                    <div class=\"modal-footer\">\r\n                        <button type=\"button\" class=\"btn btn-secondary\" id=\"cancelCoupon\">Cancel</button>\r\n                        <button type=\"button\" class=\"btn btn-primary\" id=\"applyCoupon\">Apply Coupon</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        `;\r\n\r\n        document.body.insertAdjacentHTML('beforeend', modalHTML);\r\n        this.bindEvents();\r\n    },\r\n\r\n    showModal() {\r\n        const modal = document.getElementById('couponModal');\r\n        if (modal) {\r\n            modal.style.display = 'flex';\r\n            // Focus on the coupon code input\r\n            const couponInput = document.getElementById('couponCode');\r\n            if (couponInput) {\r\n                couponInput.focus();\r\n            }\r\n        }\r\n    },\r\n\r\n    hideModal() {\r\n        const modal = document.getElementById('couponModal');\r\n        if (modal) {\r\n            modal.remove();\r\n        }\r\n    },\r\n\r\n    bindEvents() {\r\n        // Close button\r\n        const closeBtn = document.getElementById('closeCouponModal');\r\n        if (closeBtn) {\r\n            closeBtn.addEventListener('click', () => this.close());\r\n        }\r\n\r\n        // Cancel button\r\n        const cancelBtn = document.getElementById('cancelCoupon');\r\n        if (cancelBtn) {\r\n            cancelBtn.addEventListener('click', () => this.close());\r\n        }\r\n\r\n        // Apply button\r\n        const applyBtn = document.getElementById('applyCoupon');\r\n        if (applyBtn) {\r\n            applyBtn.addEventListener('click', () => this.applyCoupon());\r\n        }\r\n\r\n        // Close on overlay click\r\n        const modal = document.getElementById('couponModal');\r\n        if (modal) {\r\n            modal.addEventListener('click', (e) => {\r\n                if (e.target === modal) {\r\n                    this.close();\r\n                }\r\n            });\r\n        }\r\n\r\n        // Enter key to apply coupon\r\n        const couponInput = document.getElementById('couponCode');\r\n        if (couponInput) {\r\n            couponInput.addEventListener('keypress', (e) => {\r\n                if (e.key === 'Enter') {\r\n                    e.preventDefault();\r\n                    this.applyCoupon();\r\n                }\r\n            });\r\n        }\r\n    },\r\n\r\n    applyCoupon() {\r\n        const couponCode = document.getElementById('couponCode').value.trim();\r\n\r\n        if (!couponCode) {\r\n            this.showError('Please enter a coupon code');\r\n            return;\r\n        }\r\n\r\n        // Here you would typically validate the coupon with your backend\r\n        // For now, we'll just show a success message\r\n        this.showSuccess('Coupon applied successfully!');\r\n\r\n        // Close the modal after a short delay\r\n        setTimeout(() => {\r\n            this.close();\r\n        }, 1500);\r\n    },\r\n\r\n    showError(message) {\r\n        // You can implement a toast notification here\r\n        console.error('Coupon Error:', message);\r\n        alert(message);\r\n    },\r\n\r\n    showSuccess(message) {\r\n        // You can implement a toast notification here\r\n        console.log('Coupon Success:', message);\r\n        alert(message);\r\n    }\r\n};"],"names":["couponModal","existingModal","modalHTML","modal","couponInput","closeBtn","cancelBtn","applyBtn","e","message"],"mappings":"AACY,MAACA,EAAc,CACvB,MAAO,KACP,OAAQ,GAER,MAAO,CACH,QAAQ,IAAI,0BAA0B,CACzC,EAED,MAAO,CACH,KAAK,YAAW,EAChB,KAAK,UAAS,CACjB,EAED,OAAQ,CACJ,KAAK,UAAS,CACjB,EAED,aAAc,CAEV,MAAMC,EAAgB,SAAS,eAAe,aAAa,EACvDA,GACAA,EAAc,OAAM,EAGxB,MAAMC,EAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAmClB,SAAS,KAAK,mBAAmB,YAAaA,CAAS,EACvD,KAAK,WAAU,CAClB,EAED,WAAY,CACR,MAAMC,EAAQ,SAAS,eAAe,aAAa,EACnD,GAAIA,EAAO,CACPA,EAAM,MAAM,QAAU,OAEtB,MAAMC,EAAc,SAAS,eAAe,YAAY,EACpDA,GACAA,EAAY,MAAK,CAExB,CACJ,EAED,WAAY,CACR,MAAMD,EAAQ,SAAS,eAAe,aAAa,EAC/CA,GACAA,EAAM,OAAM,CAEnB,EAED,YAAa,CAET,MAAME,EAAW,SAAS,eAAe,kBAAkB,EACvDA,GACAA,EAAS,iBAAiB,QAAS,IAAM,KAAK,MAAO,CAAA,EAIzD,MAAMC,EAAY,SAAS,eAAe,cAAc,EACpDA,GACAA,EAAU,iBAAiB,QAAS,IAAM,KAAK,MAAO,CAAA,EAI1D,MAAMC,EAAW,SAAS,eAAe,aAAa,EAClDA,GACAA,EAAS,iBAAiB,QAAS,IAAM,KAAK,YAAa,CAAA,EAI/D,MAAMJ,EAAQ,SAAS,eAAe,aAAa,EAC/CA,GACAA,EAAM,iBAAiB,QAAUK,GAAM,CAC/BA,EAAE,SAAWL,GACb,KAAK,MAAK,CAE9B,CAAa,EAIL,MAAMC,EAAc,SAAS,eAAe,YAAY,EACpDA,GACAA,EAAY,iBAAiB,WAAaI,GAAM,CACxCA,EAAE,MAAQ,UACVA,EAAE,eAAc,EAChB,KAAK,YAAW,EAEpC,CAAa,CAER,EAED,aAAc,CAGV,GAAI,CAFe,SAAS,eAAe,YAAY,EAAE,MAAM,OAE9C,CACb,KAAK,UAAU,4BAA4B,EAC3C,MACH,CAID,KAAK,YAAY,8BAA8B,EAG/C,WAAW,IAAM,CACb,KAAK,MAAK,CACb,EAAE,IAAI,CACV,EAED,UAAUC,EAAS,CAEf,QAAQ,MAAM,gBAAiBA,CAAO,EACtC,MAAMA,CAAO,CAChB,EAED,YAAYA,EAAS,CAEjB,QAAQ,IAAI,kBAAmBA,CAAO,EACtC,MAAMA,CAAO,CAChB,CACL"}