const s={modal:null,isOpen:!1,init(){console.log("Coupon modal initialized")},open(){this.createModal(),this.showModal()},close(){this.hideModal()},createModal(){const o=document.getElementById("couponModal");o&&o.remove();const e='\n            <div id="couponModal" class="modal-overlay">\n                <div class="modal-content">\n                    <div class="modal-header">\n                        <h2>Enter Coupon Code</h2>\n                        <button class="modal-close" id="closeCouponModal" aria-label="Close modal">\n                            <i class="fas fa-times"></i>\n                        </button>\n                    </div>\n                    <div class="modal-body">\n                        <form id="couponForm">\n                            <div class="form-group">\n                                <label for="couponCode">Coupon Code</label>\n                                <input type="text" id="couponCode" placeholder="Enter your coupon code" required>\n                            </div>\n                            <div class="coupon-info" id="couponInfo" style="display: none;">\n                                <div class="info-row">\n                                    <span>Discount:</span>\n                                    <span id="couponDiscount">0%</span>\n                                </div>\n                                <div class="info-row">\n                                    <span>Valid until:</span>\n                                    <span id="couponExpiry">N/A</span>\n                                </div>\n                            </div>\n                        </form>\n                    </div>\n                    <div class="modal-footer">\n                        <button type="button" class="btn btn-secondary" id="cancelCoupon">Cancel</button>\n                        <button type="button" class="btn btn-primary" id="applyCoupon">Apply Coupon</button>\n                    </div>\n                </div>\n            </div>\n        ';document.body.insertAdjacentHTML("beforeend",e),this.bindEvents()},showModal(){const o=document.getElementById("couponModal");if(o){o.style.display="flex";const e=document.getElementById("couponCode");e&&e.focus()}},hideModal(){const o=document.getElementById("couponModal");o&&o.remove()},bindEvents(){const o=document.getElementById("closeCouponModal");o&&o.addEventListener("click",()=>this.close());const e=document.getElementById("cancelCoupon");e&&e.addEventListener("click",()=>this.close());const d=document.getElementById("applyCoupon");d&&d.addEventListener("click",()=>this.applyCoupon());const t=document.getElementById("couponModal");t&&t.addEventListener("click",n=>{n.target===t&&this.close()});const l=document.getElementById("couponCode");l&&l.addEventListener("keypress",n=>{n.key==="Enter"&&(n.preventDefault(),this.applyCoupon())})},applyCoupon(){if(!document.getElementById("couponCode").value.trim()){this.showError("Please enter a coupon code");return}this.showSuccess("Coupon applied successfully!"),setTimeout(()=>{this.close()},1500)},showError(o){console.error("Coupon Error:",o),alert(o)},showSuccess(o){console.log("Coupon Success:",o),alert(o)}};export{s as couponModal};
