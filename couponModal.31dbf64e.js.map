{"version":3,"file":"couponModal.31dbf64e.js","sources":["../src/ui/components/couponModal.js"],"sourcesContent":["// Coupon Modal Component\r\nexport const couponModal = {\r\n    modal: null,\r\n    isOpen: false,\r\n\r\n    init() {\r\n        console.log('Coupon modal initialized');\r\n    },\r\n\r\n    open() {\r\n        this.createModal();\r\n        this.showModal();\r\n    },\r\n\r\n    close() {\r\n        this.hideModal();\r\n    },\r\n\r\n    createModal() {\r\n        // Remove existing modal if any\r\n        const existingModal = document.getElementById('couponModal');\r\n        if (existingModal) {\r\n            existingModal.remove();\r\n        }\r\n\r\n        const modalHTML = `\r\n            <div id=\"couponModal\" class=\"modal-overlay\">\r\n                <div class=\"modal-content\">\r\n                    <div class=\"modal-header\">\r\n                        <h2>Enter Coupon Code</h2>\r\n                        <button class=\"modal-close\" id=\"closeCouponModal\" aria-label=\"Close modal\">\r\n                            <i class=\"fas fa-times\"></i>\r\n                        </button>\r\n                    </div>\r\n                    <div class=\"modal-body\">\r\n                        <form id=\"couponForm\">\r\n                            <div class=\"form-group\">\r\n                                <label for=\"couponCode\">Coupon Code</label>\r\n                                <input type=\"text\" id=\"couponCode\" placeholder=\"Enter your coupon code\" required>\r\n                            </div>\r\n                            <div class=\"coupon-info\" id=\"couponInfo\" style=\"display: none;\">\r\n                                <div class=\"info-row\">\r\n                                    <span>Discount:</span>\r\n                                    <span id=\"couponDiscount\">0%</span>\r\n                                </div>\r\n                                <div class=\"info-row\">\r\n                                    <span>Valid until:</span>\r\n                                    <span id=\"couponExpiry\">N/A</span>\r\n                                </div>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n                    <div class=\"modal-footer\">\r\n                        <button type=\"button\" class=\"btn btn-secondary\" id=\"cancelCoupon\">Cancel</button>\r\n                        <button type=\"button\" class=\"btn btn-primary\" id=\"applyCoupon\">Apply Coupon</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        `;\r\n\r\n        document.body.insertAdjacentHTML('beforeend', modalHTML);\r\n        this.bindEvents();\r\n    },\r\n\r\n    showModal() {\r\n        const modal = document.getElementById('couponModal');\r\n        if (modal) {\r\n            modal.style.display = 'flex';\r\n            // Focus on the coupon code input\r\n            const couponInput = document.getElementById('couponCode');\r\n            if (couponInput) {\r\n                couponInput.focus();\r\n            }\r\n        }\r\n    },\r\n\r\n    hideModal() {\r\n        const modal = document.getElementById('couponModal');\r\n        if (modal) {\r\n            modal.remove();\r\n        }\r\n    },\r\n\r\n    bindEvents() {\r\n        // Close button\r\n        const closeBtn = document.getElementById('closeCouponModal');\r\n        if (closeBtn) {\r\n            closeBtn.addEventListener('click', () => this.close());\r\n        }\r\n\r\n        // Cancel button\r\n        const cancelBtn = document.getElementById('cancelCoupon');\r\n        if (cancelBtn) {\r\n            cancelBtn.addEventListener('click', () => this.close());\r\n        }\r\n\r\n        // Apply button\r\n        const applyBtn = document.getElementById('applyCoupon');\r\n        if (applyBtn) {\r\n            applyBtn.addEventListener('click', () => this.applyCoupon());\r\n        }\r\n\r\n        // Close on overlay click\r\n        const modal = document.getElementById('couponModal');\r\n        if (modal) {\r\n            modal.addEventListener('click', (e) => {\r\n                if (e.target === modal) {\r\n                    this.close();\r\n                }\r\n            });\r\n        }\r\n\r\n        // Enter key to apply coupon\r\n        const couponInput = document.getElementById('couponCode');\r\n        if (couponInput) {\r\n            couponInput.addEventListener('keypress', (e) => {\r\n                if (e.key === 'Enter') {\r\n                    e.preventDefault();\r\n                    this.applyCoupon();\r\n                }\r\n            });\r\n        }\r\n    },\r\n\r\n    applyCoupon() {\r\n        const couponCode = document.getElementById('couponCode').value.trim();\r\n\r\n        if (!couponCode) {\r\n            this.showError('Please enter a coupon code');\r\n            return;\r\n        }\r\n\r\n        // Here you would typically validate the coupon with your backend\r\n        // For now, we'll just show a success message\r\n        this.showSuccess('Coupon applied successfully!');\r\n\r\n        // Close the modal after a short delay\r\n        setTimeout(() => {\r\n            this.close();\r\n        }, 1500);\r\n    },\r\n\r\n    showError(message) {\r\n        // You can implement a toast notification here\r\n        console.error('Coupon Error:', message);\r\n        alert(message);\r\n    },\r\n\r\n    showSuccess(message) {\r\n        // You can implement a toast notification here\r\n        console.log('Coupon Success:', message);\r\n        alert(message);\r\n    }\r\n};"],"names":["couponModal","modal","isOpen","init","console","log","open","this","createModal","showModal","close","hideModal","existingModal","document","getElementById","remove","body","insertAdjacentHTML","bindEvents","style","display","couponInput","focus","closeBtn","addEventListener","cancelBtn","applyBtn","applyCoupon","e","target","key","preventDefault","value","trim","showSuccess","setTimeout","showError","message","error","alert"],"mappings":"AACY,MAACA,EAAc,CACvBC,MAAO,KACPC,QAAQ,EAER,IAAAC,GACIC,QAAQC,IAAI,2BACf,EAED,IAAAC,GACIC,KAAKC,cACLD,KAAKE,WACR,EAED,KAAAC,GACIH,KAAKI,WACR,EAED,WAAAH,GAEU,MAAAI,EAAgBC,SAASC,eAAe,eAC1CF,GACAA,EAAcG,SAsCTF,SAAAG,KAAKC,mBAAmB,YAnCf,2wDAoClBV,KAAKW,YACR,EAED,SAAAT,GACU,MAAAR,EAAQY,SAASC,eAAe,eACtC,GAAIb,EAAO,CACPA,EAAMkB,MAAMC,QAAU,OAEhB,MAAAC,EAAcR,SAASC,eAAe,cACxCO,GACAA,EAAYC,OAEnB,CACJ,EAED,SAAAX,GACU,MAAAV,EAAQY,SAASC,eAAe,eAClCb,GACAA,EAAMc,QAEb,EAED,UAAAG,GAEU,MAAAK,EAAWV,SAASC,eAAe,oBACrCS,GACAA,EAASC,iBAAiB,QAAS,IAAMjB,KAAKG,SAI5C,MAAAe,EAAYZ,SAASC,eAAe,gBACtCW,GACAA,EAAUD,iBAAiB,QAAS,IAAMjB,KAAKG,SAI7C,MAAAgB,EAAWb,SAASC,eAAe,eACrCY,GACAA,EAASF,iBAAiB,QAAS,IAAMjB,KAAKoB,eAI5C,MAAA1B,EAAQY,SAASC,eAAe,eAClCb,GACMA,EAAAuB,iBAAiB,QAAUI,IACzBA,EAAEC,SAAW5B,GACbM,KAAKG,UAMX,MAAAW,EAAcR,SAASC,eAAe,cACxCO,GACYA,EAAAG,iBAAiB,WAAaI,IACxB,UAAVA,EAAEE,MACFF,EAAEG,iBACFxB,KAAKoB,gBAIpB,EAED,WAAAA,GACuBd,SAASC,eAAe,cAAckB,MAAMC,QAS/D1B,KAAK2B,YAAY,gCAGjBC,WAAW,KACP5B,KAAKG,SACN,OAXCH,KAAK6B,UAAU,6BAYtB,EAED,SAAAA,CAAUC,GAEEjC,QAAAkC,MAAM,gBAAiBD,GAC/BE,MAAMF,EACT,EAED,WAAAH,CAAYG,GAEAjC,QAAAC,IAAI,kBAAmBgC,GAC/BE,MAAMF,EACT"}