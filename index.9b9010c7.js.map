{"version":3,"file":"index.9b9010c7.js","sources":["../src/js/effects/homeSlider.js","../src/pages/home/main.js"],"sourcesContent":["// Before/After slider (framework-free, JS only) - Enhanced with working core functionality\r\n// - JS writes --pos (0..100) on the .ba element\r\n// - CSS reads --pos + [data-orientation] to position clip and handle\r\nexport function initBeforeAfterSlider(figureSelector = \".ba\") {\r\n    const ba = document.querySelector(figureSelector);\r\n    if (!ba) return null;\r\n\r\n    const handle = ba.querySelector(\".ba-handle\");\r\n    const after = ba.querySelector(\".ba-after\");\r\n    const hero = ba.closest(\".hero\");\r\n    const heroContent = document.querySelector(\".hero-content\");\r\n    const range = ba.querySelector(\".ba-range\");\r\n\r\n    if (!handle || !after) return null;\r\n\r\n    const START_POS = 50; // snap target\r\n    const SNAP_MS = 300; // animation duration (ms)\r\n\r\n    let pos = 50; // 0..100\r\n    let dragging = false;\r\n    let animating = false;\r\n    let rafId = null;\r\n\r\n    function orientation() {\r\n        return window.innerWidth <= 768 ? \"vertical\" : \"horizontal\";\r\n    }\r\n\r\n    function setOrientation(o) {\r\n        ba.setAttribute(\"data-orientation\", o);\r\n    }\r\n\r\n    const clamp = v => Math.min(100, Math.max(0, v));\r\n\r\n    function setPos(p) {\r\n        p = clamp(p);\r\n        pos = p;\r\n\r\n        // Enhanced positioning with both CSS custom properties and direct styles\r\n        ba.style.setProperty(\"--pos\", `${p}%`);\r\n\r\n        // Direct handle positioning (from working code)\r\n        handle.style.left = p + '%';\r\n\r\n        // Direct clip-path setting (from working code)\r\n        after.style.clipPath = `inset(0 ${100 - p}% 0 0)`;\r\n\r\n        // Update range input if exists\r\n        if (range) range.value = String(p);\r\n\r\n        // Accessibility\r\n        handle.setAttribute(\"aria-valuenow\", String(Math.round(p)));\r\n    }\r\n\r\n    const toPct = e => {\r\n        const r = ba.getBoundingClientRect();\r\n        const clientX = e.clientX || (e.touches && e.touches[0] && e.touches[0].clientX) || 0;\r\n        const x = clientX - r.left;\r\n        return (x / r.width) * 100;\r\n    };\r\n\r\n    function animateTo(target = START_POS, duration = SNAP_MS) {\r\n        const from = parseFloat(handle.style.left) || START_POS;\r\n        if (Math.abs(target - from) < 0.001) return;\r\n\r\n        const t0 = performance.now();\r\n        if (rafId) cancelAnimationFrame(rafId);\r\n\r\n        const frame = t => {\r\n            if (dragging) return; // abort if user grabs again\r\n            const k = Math.min(1, (t - t0) / duration);\r\n            const eased = from + (target - from) * (1 - Math.pow(1 - k, 3)); // easeOutCubic\r\n            setPos(eased);\r\n            if (k < 1) rafId = requestAnimationFrame(frame);\r\n        };\r\n        rafId = requestAnimationFrame(frame);\r\n    }\r\n\r\n    // Init\r\n    setOrientation(orientation());\r\n    setPos(START_POS);\r\n    handle.tabIndex = 0;\r\n    handle.setAttribute(\"role\", \"slider\");\r\n    handle.setAttribute(\"aria-label\", \"Drag to compare\");\r\n    handle.setAttribute(\"aria-valuemin\", \"0\");\r\n    handle.setAttribute(\"aria-valuemax\", \"100\");\r\n\r\n    // Events\r\n    const onResize = () => {\r\n        const o = orientation();\r\n        if (ba.getAttribute(\"data-orientation\") !== o) {\r\n            setOrientation(o);\r\n            setPos(pos); // re-apply\r\n        }\r\n    };\r\n\r\n    const onPointerDown = (e) => {\r\n        if (animating) {\r\n            console.log('Slider: Animation in progress, ignoring pointer down');\r\n            return;\r\n        }\r\n        dragging = true;\r\n        if (handle.setPointerCapture) {\r\n            handle.setPointerCapture(e.pointerId);\r\n        }\r\n        handle.classList.add(\"is-active\");\r\n        handle.classList.add(\"dragging\");\r\n        if (rafId) cancelAnimationFrame(rafId);\r\n        if (heroContent) {\r\n            heroContent.style.opacity = \"0\";\r\n            heroContent.style.pointerEvents = \"none\";\r\n        }\r\n        setPos(toPct(e));\r\n        console.log('Slider: Pointer down, dragging started');\r\n    };\r\n\r\n    const onPointerMove = (e) => {\r\n        if (!dragging) return;\r\n        setPos(toPct(e));\r\n    };\r\n\r\n    const onPointerUp = (e) => {\r\n        if (!dragging) return;\r\n        dragging = false;\r\n        if (handle.releasePointerCapture) {\r\n            handle.releasePointerCapture(e.pointerId);\r\n        }\r\n        handle.classList.remove(\"is-active\");\r\n        handle.classList.remove(\"dragging\");\r\n\r\n        // Snap back to center and restore hero content\r\n        returnToCenter();\r\n        console.log('Slider: Pointer up, returning to center');\r\n    };\r\n\r\n    const onPointerEnter = () => handle.classList.add(\"is-hovered\");\r\n    const onPointerLeave = () => handle.classList.remove(\"is-hovered\");\r\n\r\n    const onKeyDown = (e) => {\r\n        if (animating) return;\r\n        let next = pos;\r\n        if ([\"ArrowLeft\", \"ArrowUp\"].includes(e.key)) next = pos - 2;\r\n        else if ([\"ArrowRight\", \"ArrowDown\"].includes(e.key)) next = pos + 2;\r\n        else if (e.key === \"Home\") next = 0;\r\n        else if (e.key === \"End\") next = 100;\r\n        else return;\r\n        e.preventDefault();\r\n        setPos(next);\r\n    };\r\n\r\n    function returnToCenter() {\r\n        if (animating) return;\r\n        animating = true;\r\n        const start = pos;\r\n        const target = START_POS;\r\n        const t0 = performance.now();\r\n        const dur = 600;\r\n        const raf = (t) => {\r\n            const u = Math.min((t - t0) / dur, 1);\r\n            const ease = 1 - Math.pow(1 - u, 3);\r\n            setPos(start + (target - start) * ease);\r\n            if (u < 1) requestAnimationFrame(raf);\r\n            else {\r\n                animating = false;\r\n                if (heroContent) {\r\n                    heroContent.style.opacity = \"1\";\r\n                    heroContent.style.pointerEvents = \"auto\";\r\n                }\r\n                console.log('Slider: Animation complete, hero content restored');\r\n            }\r\n        };\r\n        requestAnimationFrame(raf);\r\n    }\r\n\r\n    // Event listeners\r\n    window.addEventListener(\"resize\", onResize, {\r\n        passive: true\r\n    });\r\n    handle.addEventListener(\"pointerdown\", onPointerDown);\r\n    window.addEventListener(\"pointermove\", onPointerMove);\r\n    window.addEventListener(\"pointerup\", onPointerUp);\r\n    handle.addEventListener(\"pointerenter\", onPointerEnter);\r\n    handle.addEventListener(\"pointerleave\", onPointerLeave);\r\n    handle.addEventListener(\"keydown\", onKeyDown);\r\n\r\n    // Public API (optional)\r\n    return {\r\n        reset: () => setPos(START_POS),\r\n        destroy: () => {\r\n            window.removeEventListener(\"resize\", onResize);\r\n            handle.removeEventListener(\"pointerdown\", onPointerDown);\r\n            window.removeEventListener(\"pointermove\", onPointerMove);\r\n            window.removeEventListener(\"pointerup\", onPointerUp);\r\n            handle.removeEventListener(\"pointerenter\", onPointerEnter);\r\n            handle.removeEventListener(\"pointerleave\", onPointerLeave);\r\n            handle.removeEventListener(\"keydown\", onKeyDown);\r\n            if (rafId) cancelAnimationFrame(rafId);\r\n        }\r\n    };\r\n}","// Home page entry (Vite)\r\nimport '@/css/base.css';\r\nimport '@/css/header.css';\r\nimport '@/css/hero.css';\r\nimport '@/css/home.css';\r\nimport '@/css/footer.css';\r\nimport '@/css/mobile-nav.css';\r\nimport '@/css/productShowcase.css';\r\nimport '@/css/testimonials.css';\r\nimport '@/css/toast.css';\r\nimport '@/css/components/broker-login.css';\r\n\r\n// Core functionality\r\nimport '@/js/components/header.js';\r\nimport '@/js/components/cart.js';\r\nimport '@/js/components/cartIconPopUp.js';\r\nimport '@/js/components/toast.js';\r\n\r\n// Modals\r\nimport '@/ui/BrokerLoginModal.js';\r\n\r\n// Services\r\nimport '@/services/toastService.js';\r\n\r\n// Effects and animations\r\nimport {\r\n    initBeforeAfterSlider\r\n} from '@/js/effects/homeSlider.js';\r\nimport '@/js/effects/floating-header.js';\r\nimport '@/js/effects/mobile-scroll-animations.js';\r\n\r\n// Initialize slider\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n    initBeforeAfterSlider(\".ba\");\r\n});"],"names":["initBeforeAfterSlider","figureSelector","ba","document","querySelector","handle","after","closest","heroContent","range","pos","dragging","animating","orientation","window","innerWidth","setOrientation","o","setAttribute","setPos","p","Math","min","max","v","style","setProperty","concat","left","clipPath","value","String","round","toPct","e","r","getBoundingClientRect","clientX","touches","width","tabIndex","onResize","getAttribute","onPointerDown","console","log","setPointerCapture","pointerId","classList","add","opacity","pointerEvents","onPointerMove","onPointerUp","releasePointerCapture","remove","start","target","t0","performance","now","dur","raf","t","u","ease","pow","requestAnimationFrame","onPointerEnter","onPointerLeave","onKeyDown","next","includes","key","preventDefault","addEventListener","passive","reset","destroy","removeEventListener"],"mappings":"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"}